"use strict";angular.module("boozeApp",["ngAnimate","ngCookies","ngResource","ngRoute","ngSanitize","ngTouch"]).config(["$routeProvider","$httpProvider",function(a,b){b.defaults.headers.put["Content-Type"]="application/x-www-form-urlencoded",b.defaults.headers.post["Content-Type"]="application/x-www-form-urlencoded",a.when("/",{templateUrl:"views/beer.html",controller:"BeerCtrl"}).when("/whiskey",{templateUrl:"views/whiskey.html",controller:"WhiskeyCtrl"}).when("/input",{templateUrl:"views/input.html",controller:"InputCtrl"}).when("/beer/:id",{templateUrl:"views/details.html"}).when("/whiskey/:id",{templateUrl:"views/details.html"}).otherwise({redirectTo:"/"})}]).run(["$rootScope","$timeout","$window","getboozejson","storageFactory",function(a,b,c,d,e){a.$on("$routeChangeSuccess",function(){b(function(){c.scrollTo(0,0)},500)}),d.getBoozeData().success(function(a){e.storeGetBoozeData("booze-data-cache",a)})}]),angular.module("boozeApp").controller("BeerCtrl",["$scope","listdataFilter","storageFactory","beerkey",function(a,b,c,d){var e=c.getBoozeData("booze-data-cache");a.beerList=b.beer(e,d)}]),angular.module("boozeApp").controller("InputCtrl",["$scope","beerkey","whiskeykey","randomnumber","storageFactory",function(a,b,c,d,e){a.boozeForm=[],a.allVisible=!1,a.beerVisible=!1,a.whiskeyVisible=!1,a.beerToggle=function(){a.allVisible=!0,a.beerVisible=!0,a.whiskeyVisible=!1,a.boozeForm.type=b},a.whiskeyToggle=function(){a.allVisible=!0,a.beerVisible=!1,a.whiskeyVisible=!0,a.boozeForm.type=c},a.boozeForm.saveBooze=function(){var b=d.randomid(),c=[{id:b,type:a.boozeForm.type,purchasedfrom:a.boozeForm.purchasedfrom,purchasedon:a.boozeForm.purchasedon,price:a.boozeForm.price,name:a.boozeForm.name,company:a.boozeForm.company,status:a.boozeForm.status}],f=e.getBoozeData("booze-data-cache");e.storeBoozeLocal("booze-data-cache",f,c),e.saveBoozeRemote("booze-data-cache",f,c),alert("Your New Booze:  "+a.boozeForm.name+"\n\nFrom:  "+a.boozeForm.company+"\n\nHas Been Added!!\n\nBoth Locally For Now")}}]),angular.module("boozeApp").controller("NavCtrl",["$scope","$location",function(a,b){a.isActive=function(a){return a===b.path()}}]),angular.module("boozeApp").controller("WhiskeyCtrl",["$scope","listdataFilter","storageFactory","whiskeykey",function(a,b,c,d){var e=c.getBoozeData("booze-data-cache");a.whiskeyList=b.beer(e,d)}]),angular.module("boozeApp").filter("listdata",function(){return{beer:function(a,b){var c=[];return angular.forEach(a,function(a){a.type===b&&this.push(a)},c),c},whiskey:function(a,b){var c=[];return angular.forEach(a,function(a){a.type===b&&this.push(a)},c),c}}}),angular.module("boozeApp").constant("beerkey","beer"),angular.module("boozeApp").constant("whiskeykey","whiskey"),angular.module("boozeApp").factory("getboozejson",["$http",function(a){return{getBoozeData:function(){var b="data/booze.json",c=[];return a.get(b).success(function(a){return c=a}).error(function(){alert("That's right Dude, they pee'd on your fucking rug")})}}}]),angular.module("boozeApp").factory("storageFactory",function(){return{getBoozeData:function(a){var b=sessionStorage.getItem(a),c=angular.fromJson(b);return c},storeGetBoozeData:function(a,b){var c=angular.toJson(b);sessionStorage.setItem(a,c)},storeBoozeLocal:function(a,b,c){var d=b.concat(c),e=angular.toJson(d);sessionStorage.setItem(a,e)},saveBoozeRemote:function(){}}}),angular.module("boozeApp").factory("randomnumber",function(){return{randomid:function(){var a=1e5,b=2e5;return Math.floor(Math.random()*(b-a+1))+a}}});