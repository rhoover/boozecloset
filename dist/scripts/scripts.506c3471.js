"use strict";angular.module("boozeApp",["ngAnimate","ngCookies","ngResource","ngRoute","ngSanitize","ngTouch"]).config(["$routeProvider","$httpProvider",function(a,b){b.defaults.headers.put["Content-Type"]="application/x-www-form-urlencoded",b.defaults.headers.post["Content-Type"]="application/x-www-form-urlencoded",a.when("/",{templateUrl:"views/beer.html",controller:"BeerCtrl"}).when("/whiskey",{templateUrl:"views/whiskey.html",controller:"WhiskeyCtrl"}).when("/input",{templateUrl:"views/input.html",controller:"InputCtrl"}).when("/beer/:id",{templateUrl:"views/beerdetails.html"}).when("/whiskey/:id",{templateUrl:"views/whiskeydetails.html"}).otherwise({redirectTo:"/"})}]).run(["$rootScope","$timeout","$window",function(a,b,c){a.$on("$routeChangeSuccess",function(){b(function(){c.scrollTo(0,0)},500)})}]),angular.module("boozeApp").controller("BeerCtrl",["$scope","getboozejson","storageFactory","listdataFilter","beerkey",function(a,b,c,d,e){var f=c.getBooze("booze-data-cache");null!==f?a.beerList=d.beer(f,e):b.getBoozeData().success(function(b){a.beerList=d.beer(b,e),c.storeGetBooze("booze-data-cache",b)}).error(function(){alert("That's right Dude, they pee'd on your fucking rug")})}]),angular.module("boozeApp").controller("InputCtrl",["$scope","beerkey","whiskeykey","storageFactory",function(a,b,c,d){a.boozeForm=[],a.allVisible=!1,a.beerVisible=!1,a.whiskeyVisible=!1,a.beerToggle=function(){a.allVisible=!0,a.beerVisible=!0,a.whiskeyVisible=!1,a.boozeForm.type=b},a.whiskeyToggle=function(){a.allVisible=!0,a.beerVisible=!1,a.whiskeyVisible=!0,a.boozeForm.type=c},a.boozeForm.saveBooze=function(){var b=1e5,c=2e5,e=Math.floor(Math.random()*(c-b+1))+b,f=[{id:e,type:a.boozeForm.type,purchasedfrom:a.boozeForm.purchasedfrom,purchasedon:a.boozeForm.purchasedon,price:a.boozeForm.price,name:a.boozeForm.name,company:a.boozeForm.company,status:a.boozeForm.status}],g=d.getBooze("booze-data-cache");d.storeBoozeLocal("booze-data-cache",g,f),d.saveBoozeRemote("booze-data-cache",g,f),alert("Your New Booze:  "+a.boozeForm.name+"\n\nFrom:  "+a.boozeForm.company+"\n\nHas Been Added!!\n\nBoth Locally and To Your Server")}}]),angular.module("boozeApp").controller("NavCtrl",["$scope","$location",function(a,b){a.isActive=function(a){return a===b.path()}}]),angular.module("boozeApp").controller("WhiskeyCtrl",["$scope","getboozejson","storageFactory","listdataFilter","whiskeykey",function(a,b,c,d,e){var f=c.getBooze("booze-data-cache");null!==f?a.whiskeyList=d.whiskey(f,e):b.getBoozeData().success(function(b){a.whiskeyList=d.whiskey(b,e),c.storeGetBooze("booze-data-cache",b)}).error(function(){alert("That's right Dude, they pee'd on your fucking rug")})}]),angular.module("boozeApp").filter("listdata",function(){return{beer:function(a,b){var c=[];return angular.forEach(a,function(a){a.type===b&&this.push(a)},c),c},whiskey:function(a,b){var c=[];return angular.forEach(a,function(a){a.type===b&&this.push(a)},c),c}}}),angular.module("boozeApp").constant("beerkey","beer"),angular.module("boozeApp").constant("whiskeykey","whiskey"),angular.module("boozeApp").factory("getboozejson",["$http",function(a){return{getBoozeData:function(){var b="data/booze.json";return a.get(b).success(function(a){return a})}}}]),angular.module("boozeApp").factory("storageFactory",["$http",function(){return{getBooze:function(a){var b=sessionStorage.getItem(a),c=angular.fromJson(b);return c},storeGetBooze:function(a,b){var c=angular.toJson(b);sessionStorage.setItem(a,c)},storeBoozeLocal:function(a,b,c){var d=b.concat(c),e=angular.toJson(d);sessionStorage.setItem(a,e)},saveBoozeRemote:function(a,b,c){{var d=b.concat(c);angular.toJson(d)}}}}]);